angular.module('openeis-ui').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('404.tpl.html',
    "<h2>404 Page not found</h2>"
  );


  $templateCache.put('account.tpl.html',
    "<div class=container><ul class=breadcrumbs><li>Account</li></ul><div class=\"view view--account\"><h2>Account</h2><h3>Profile</h3><form ng-submit=profile.update()><div class=form__group><label>Username</label><input ng-model=account.username disabled></div><div class=form__group><label for=name>Name</label><input id=name type=text ng-model=account.first_name></div><div class=form__group><label for=email>Email address</label><input id=email type=email ng-change=\"profile.error.data.email = false\" ng-model=account.email> <small class=\"help help--error\" ng-if=profile.error.data.email>{{profile.error.data.email}}</small></div><div class=form__group><button ng-disabled=!profile.changed>Update profile</button></div><div class=\"alert alert--success animated--slow-out\" ng-if=profile.success>Profile updated.</div><div class=\"alert alert--error\" ng-if=\"profile.error.status && profile.error.status !== 400\">Unknown error occurred. ({{profile.error.status}})</div></form><h3>Password</h3><form ng-submit=password.update()><div class=form__group><label for=current-password>Current password</label><input id=current-password type=password autocomplete=off ng-trim=false ng-change=\"password.error.data.old_password = false\" required ng-model=password.current> <small class=\"help help--error\" ng-if=password.error.data.old_password>{{password.error.data.old_password}}</small><br><label for=new-password>New password</label><input id=new-password type=password autocomplete=off required ng-trim=false ng-change=\"password.mismatch = false; password.error.data.new_password = false\" ng-model=password.new> <small class=\"help help--error\" ng-if=password.error.data.new_password>{{password.error.data.new_password}}</small><br><label for=confirm-new-password>Confirm new password</label><input id=confirm-new-password type=password autocomplete=off required ng-trim=false ng-change=\"password.mismatch = false\" ng-model=password.newConfirm> <small class=\"help help--error\" ng-if=password.mismatch>New passwords do not match.</small><br></div><div class=form__group><button ng-disabled=\"!(password.current && password.new && password.newConfirm)\" ng-click=updatePassword()>Update password</button></div><div class=\"alert alert--success animated--slow-out\" ng-if=password.success>Password updated.</div></form></div></div>"
  );


  $templateCache.put('configure-timestamp.tpl.html',
    "<h4>Configure timestamp: {{timestampFile.name}}</h4><form ng-if=!modal.confirm ng-submit=preview()><table class=table--file-preview><thead><tr><th colspan={{timestampFile.cols.length}}>Select columns that comprise timestamp:</th></tr><tr><th ng-repeat=\"col in timestampFile.cols\"><input type=checkbox ng-model=modal.columns[$index]></th></tr><tr ng-if=timestampFile.head.header.length><th ng-repeat=\"header in timestampFile.head.header\"><label for={{$index}}>{{header}}</label></th></tr></thead><tbody><tr ng-repeat=\"row in timestampFile.head.rows\"><td ng-repeat=\"col in row track by $index\">{{col}}</td></tr></tbody></table><div class=form__group><label class=label--inline>Apply offset to timestamps</label>&nbsp; <input type=number step=0.000001 required ng-model=modal.timeOffset>&nbsp;seconds</div><div class=form__group><label class=label--inline>If unable to determine time zone, use</label>&nbsp;<select class=select--inline required ng-options=\"timeZone for timeZone in timeZones\" ng-model=modal.timeZone></select></div><button>Continue</button> <button type=button ng-click=\"Modals.closeModal('configureTimestamp')\">Cancel</button></form><div ng-if=modal.confirm><table><thead><tr><th>Raw</th><th>Parsed</th></tr></thead><tbody><tr ng-repeat=\"row in modal.timestamps | limitTo:5\"><td>{{row[0]}}</td><td>{{row[1]}}</td></tr></tbody></table><p>Are the parsed timestamps correct?</p><button ng-click=save()>Yes, save configuration</button> <button ng-click=\"modal.confirm = false\">No, re-select columns</button> <button ng-click=\"Modals.closeModal('configureTimestamp')\">Cancel</button></div>"
  );


  $templateCache.put('data-map.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li><a href=projects/{{project.id}}>{{project.name}}</a></li><li>Data map: {{dataMap.name}}</li></ul><div class=\"view view--data-map\"><h2>Data map: {{dataMap.name}}</h2><pre>{{dataMap.map | json}}</pre><a class=button href=projects/{{project.id}}>Back</a></div></div>"
  );


  $templateCache.put('data-set-manipulate.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li><a href=projects/{{project.id}}>{{project.name}}</a></li><li>Manipulate data set: {{dataSet.name}}</li></ul><form class=\"view view--data-set-manipulate\" ng-submit=apply()><h2>Manipulate data set: {{dataSet.name}}</h2><div ng-show=!applying><div><h3>Normalization settings</h3><div class=form__group><label>Perform</label>&nbsp; <input type=checkbox id=perform-fill ng-model=globalSettings.performFill>&nbsp;<label for=fill>Fill</label>&nbsp; <input type=checkbox id=perform-aggregation ng-model=globalSettings.performAggregation>&nbsp;<label for=perform-aggregation>Aggregation</label></div><div class=form__group><label>Fill/aggregation time period</label>&nbsp; <input type=number step=1 min=1 required ng-model=globalSettings.periodSeconds> second<span ng-if=\"globalSettings.periodSeconds > 1\">s</span></div><div class=form__group ng-if=globalSettings.performFill><label>On fill</label>&nbsp; <input type=checkbox id=drop-values ng-model=globalSettings.dropExtra>&nbsp;<label for=drop-values>Drop values that do not line up exactly with specified period</label></div><div class=form__group ng-if=globalSettings.performAggregation><label>On aggregation</label>&nbsp; <input type=radio id=round-time ng-model=globalSettings.roundTime ng-value=true>&nbsp;<label for=round-time>Round time to nearest period</label>&nbsp; <input type=radio id=truncate-time ng-model=globalSettings.roundTime ng-value=false>&nbsp;<label for=truncate-time>Truncate time to period</label></div></div><h3>Sensors</h3><div class=topic ng-repeat=\"(topic, sensor) in dataSet.datamap.sensors\" ng-if=sensor.type ng-init=\"initTopicFilters(topic, sensor)\"><h4>{{topic}}</h4><div class=layout><div class=layout__item><fieldset><legend>Normalization filters</legend><div class=form__group ng-if=globalSettings.performFill><label>Fill</label>&nbsp;<select ng-options=\"filter.id as filter.name for filter in availableFilters | filter:{type: 'fill'} | orderBy:'name'\" ng-model=topicFilters[topic].fill><option value=\"\">None</option></select></div><div class=form__group ng-if=globalSettings.performAggregation><label>Aggregation</label>&nbsp;<select required ng-options=\"filter.id as filter.name for filter in availableFilters | filter:{type: 'aggregation'} | orderBy:'name'\" ng-model=topicFilters[topic].aggregation><option value=\"\">-- Choose filter --</option></select></div></fieldset></div><div class=layout__item><fieldset><legend>Other filters</legend><ol><li ng-repeat=\"filter in topicFilters[topic].other\">{{filter | json}} &mdash; <a ng-click=deleteFilter(filter)>Delete</a> <span ng-if=!$first>&mdash; <a ng-click=raiseFilter(filter)>Up</a></span> <span ng-if=!$last>&mdash; <a ng-click=lowerFilter(filter)>Down</a></span></li></ol><p><a ng-click=addFilterTo(topic)>Add filter to {{topic}}&hellip;</a></p></fieldset></div></div></div><button>Apply</button> <a class=button href=projects/{{project.id}}>Cancel</a></div><div ng-show=applying><span class=\"spinner fa fa-circle-o-notch\"></span> Applying filters&hellip;</div></form></div><modal modal-id=newFilter><h3>Add filter</h3><form class=form--stacked ng-submit=saveNewFilter()><div class=form__group><label>Sensor</label><div>{{newFilter.topic}}</div></div><div class=form__group><label>Filter</label><select required ng-options=\"filter as filter.name for filter in availableFilters | filter:{type: 'other'} | orderBy:'name'\" ng-model=newFilter.filter><option value=\"\">-- Choose filter --</option><select></select></select></div><div class=form__group ng-if=newFilter.filter ng-init=\"newFilter.parameters[paramName] = param.value_default\" ng-repeat=\"(paramName, param) in newFilter.filter.parameters\"><label>{{param.display_name}}</label><input type=checkbox ng-if=\"param.config_type === 'bool'\" ng-model=newFilter.parameters[paramName]> <input value={{param.value_default}} type=number step=1 ng-if=\"param.config_type === 'int' && !param.value_list\" min={{param.value_min}} max={{param.value_max}} ng-required=!param.optional ng-model=newFilter.parameters[paramName]> <small class=help ng-if=param.description ng-bind-html=\"param.description | nl2br\"></small></div><button>Add</button> <button type=button ng-click=\"Modals.closeModal('newFilter')\">Cancel</button></form></modal>"
  );


  $templateCache.put('data-set.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li><a href=projects/{{project.id}}>{{project.name}}</a></li><li>Data set: {{dataSet.name}}</li></ul><div class=\"view view--data-set\"><h2>Data set: {{dataSet.name}}</h2><table><thead><tr><th ng-repeat=\"column in data.cols\">{{column}}</th></tr></thead><tbody><tr ng-repeat=\"row in data.rows\"><td ng-repeat=\"value in row track by $index\">{{value}}</td></tr><tr ng-repeat-start=\"row in data.extra_rows\"><td class=table-gap colspan={{data.cols.length}}>&hellip;</td></tr><tr ng-repeat-end><td ng-repeat=\"value in row track by $index\">{{value}}</td></tr></tbody></table><a class=button href=projects/{{project.id}}>Back</a></div></div>"
  );


  $templateCache.put('login.tpl.html',
    "<div class=container><div class=\"view view--login\"><h1>OpenEIS</h1><form ng-submit=logIn()><div class=form__group><input type=text placeholder=Username required ng-model=form.username ng-change=clearError()></div><div class=form__group><input type=password placeholder=Password required ng-model=form.password ng-trim=false ng-change=clearError()></div><div class=form__group><button type=submit>Log in</button><div class=links><a href=sign-up>Need an account?</a><br><a href=recovery>Can't log in?</a></div></div><div class=\"alert alert--error\" ng-if=form.error ng-switch=form.error><span ng-switch-when=403>Authentication failed.</span> <span ng-switch-default>Unknown error occurred. ({{form.error}})</span></div></form></div></div>"
  );


  $templateCache.put('new-analysis.tpl.html',
    "<h4>New analysis</h4><div ng-if=!newAnalysis.application><div class=form__group><label class=label--inline>Run analysis on</label>&nbsp;<select ng-options=\"dataSet as dataSet.name for dataSet in dataSets\" ng-model=newAnalysis.dataSet><option value=\"\">-- Choose data set --</option></select></div><table class=table--app-list ng-if=newAnalysis.dataSet><thead><tr><th>Application</th><th>Configure</th><th>Missing inputs</th></tr></thead><tbody><tr ng-repeat=\"app in availableApps | orderBy:'name'\"><td>{{app.name}}</td><td><button ng-disabled=app.missingInputs ng-click=\"newAnalysis.application = app\">Configure</button></td><td><p ng-if=app.description>{{app.description}}</p><ul class=missing-inputs ng-if=app.missingInputs><li ng-repeat=\"missingInput in app.missingInputs\">{{missingInput}}</li></ul></td></tr></tbody></table><button ng-click=\"Modals.closeModal('newAnalysis')\">Cancel</button></div><form class=form--stacked ng-if=newAnalysis.application ng-submit=run()><h5>Configure run of <em>{{newAnalysis.application.name}}</em> on data set <em>{{newAnalysis.dataSet.name}}</em></h5><h5 style=color:red>{{newAnalysis.application.note}}</h5><div class=form__group><input type=checkbox id=debug ng-model=newAnalysis.debug>&nbsp;<label for=debug>Generate debug output</label></div><div class=layout><div class=layout__item style=\"width: 50%\"><fieldset><legend>Parameters</legend><div class=form__group ng-repeat=\"(paramName, param) in newAnalysis.application.parameters\" ng-init=setParamDefault(paramName)><label>{{param.display_name}}<span ng-if=param.optional>&nbsp;(optional)</span></label><select ng-if=param.value_list ng-required=!param.optional ng-model=newAnalysis.configuration.parameters[paramName] ng-options=\"value for value in param.value_list\"><option value=\"\">-- Choose value --</option></select><input type=text ng-if=\"param.config_type === 'str' && !param.value_list\" ng-required=!param.optional ng-model=newAnalysis.configuration.parameters[paramName]> <input type=number step=1 ng-if=\"param.config_type === 'int' && !param.value_list\" min={{param.value_min}} max={{param.value_max}} ng-required=!param.optional ng-model=newAnalysis.configuration.parameters[paramName]> <input type=number step=0.01 ng-if=\"param.config_type === 'float' && !param.value_list\" min={{param.value_min}} max={{param.value_max}} ng-required=!param.optional ng-model=newAnalysis.configuration.parameters[paramName]></div></fieldset></div><div class=layout__item style=\"width: 50%\"><fieldset><legend>Inputs</legend><div class=form__group ng-repeat=\"(inputName, input) in newAnalysis.application.inputs\"><label>{{input.display_name}} ({{input.sensor_type}})</label><div ng-repeat=\"multiInput in newAnalysis.configuration.inputs[inputName]\" style=\"position: relative\"><select required ng-options=\"topic.value as topic.display for topic in availableSensors[input.sensor_type]\" ng-model=newAnalysis.configuration.inputs[inputName][$index]><option value=\"\">-- Choose sensor --</option></select><div class=app-input-delete ng-if=\"newAnalysis.configuration.inputs[inputName].length > input.count_min\" ng-click=\"deleteInputSensor(inputName, $index)\">&times;</div></div><a ng-if=\"canAddSensor(inputName, input.sensor_type)\" ng-click=addInputSensor(inputName)>+ Add sensor</a></div></fieldset></div></div><button type=button ng-click=\"newAnalysis.application = null\">Back</button> <button>Run</button> <button type=button ng-click=\"Modals.closeModal('newAnalysis')\">Cancel</button></form>"
  );


  $templateCache.put('new-data-map.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li><a href=projects/{{project.id}}>{{project.name}}</a></li><li>New data map</li></ul><div class=\"view view--new-data-map\"><h2>New data map</h2><div class=form__group>Add to data map:<span ng-repeat=\"child in ['site', 'building', 'other']\">&nbsp;<button ng-click=addChild(child)>{{child}}</button></span></div><sensor-container ng-repeat=\"child in newDataMap.map.children\" container=child parent=newDataMap.map files=dataFiles></sensor-container><form ng-submit=save()><label class=label--inline>Data map name</label>&nbsp; <input class=input--inline required ng-model=newDataMap.name> &nbsp;<button type=button ng-click=preview() ng-disabled=!newDataMap.valid>Preview</button> &nbsp;<button ng-disabled=!newDataMap.valid>Save</button> &nbsp;<a class=button href=projects/{{project.id}}>Cancel</a> <small class=\"help help--error\" ng-if=!newDataMap.valid>Add at least one object and sensor to save</small></form></div><modal modal-id=dataMapPreview><table><thead><tr><th ng-repeat=\"column in dataMapPreview.cols\">{{column}}</th></tr></thead><tbody><tr ng-repeat=\"row in dataMapPreview.rows\"><td ng-repeat=\"value in row track by $index\"><span ng-if=!isObject(value)>{{value}}</span> <span class=invalid-value ng-if=isObject(value) ng-click=showError(value)>Invalid</span></td></tr><tr ng-repeat-start=\"row in dataMapPreview.extra_rows\"><td class=table-gap colspan={{dataMapPreview.cols.length}}>&hellip;</td></tr><tr ng-repeat-end><td ng-repeat=\"value in row track by $index\"><span ng-if=!isObject(value)>{{value}}</span> <span class=invalid-value ng-if=isObject(value) ng-click=showError(value)>Invalid</span></td></tr></tbody></table><button ng-click=\"Modals.closeModal('dataMapPreview')\">Close</button></modal></div>"
  );


  $templateCache.put('new-data-set.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li><a href=projects/{{project.id}}>{{project.name}}</a></li><li>New data set</li></ul><div class=\"view view--new-data-set\"><h2>New data set</h2><form ng-submit=submit()><div class=form__group><h5>Select data map to use</h5><select required ng-options=\"dataMap as dataMap.name for dataMap in dataMaps\" ng-model=newDataSet.map><option value=\"\">-- Choose data map --</option></select></div><div class=form__group ng-if=newDataSet.map><h5>Select files to use</h5><dl><dt ng-repeat-start=\"(key, file) in newDataSet.map.map.files\">File \"{{key}}\":</dt><dt><dd ng-repeat-end>Signature:<pre>{{file.signature.headers}}</pre><select required ng-options=\"file as file.name for file in dataFiles | hasSignature:file.signature\" ng-model=newDataSet.files[key]><option value=\"\">-- Choose file --</option></select></dd></dt></dl></div><button ng-click=\"newDataSet.action = 'preview'\">Preview</button> <button ng-click=\"newDataSet.action = 'save'\">Create</button> <a class=button href=projects/{{project.id}}>Cancel</a></form><modal modal-id=dataSetPreview><table><thead><tr><th ng-repeat=\"column in dataSetPreview.cols\">{{column}}</th></tr></thead><tbody><tr ng-repeat=\"row in dataSetPreview.rows\"><td ng-repeat=\"value in row track by $index\"><span ng-if=!isObject(value)>{{value}}</span> <span class=invalid-value ng-if=isObject(value) ng-click=showError(value)>Invalid</span></td></tr><tr ng-repeat-start=\"row in dataSetPreview.extra_rows\"><td class=table-gap colspan={{dataSetPreview.cols.length}}>&hellip;</td></tr><tr ng-repeat-end><td ng-repeat=\"value in row track by $index\"><span ng-if=!isObject(value)>{{value}}</span> <span class=invalid-value ng-if=isObject(value) ng-click=showError(value)>Invalid</span></td></tr></tbody></table><button ng-click=\"Modals.closeModal('dataSetPreview')\">Close</button></modal></div></div>"
  );


  $templateCache.put('project.tpl.html',
    "<div class=container><ul class=breadcrumbs><li><a href=projects>Projects</a></li><li>{{project.name}}</li></ul><div class=\"view view--project\"><h2>{{project.name}}</h2><div class=data-files><h3>Data files</h3><p><button ng-click=\"Modals.openModal('uploadFile')\">Upload file&hellip;</button></p><table ng-if=dataFiles.length><thead><tr><th>Name</th><th>Size</th></tr></thead><tbody><tr ng-repeat=\"file in dataFiles\"><td>{{file.name}}<div class=\"edit-menu drop-down\"><a class=drop-down__toggle><span class=\"fa fa-caret-right\"></span></a><div class=drop-down__container><a class=drop-down__item ng-click=configureTimestamp($index)>Configure timestamp</a> <a class=drop-down__item href={{file.download_url}} target=_self>Download</a> <a class=drop-down__item ng-click=\"rename('dataFiles', $index)\">Rename</a> <a class=drop-down__item ng-click=\"delete('dataFiles', $index)\">Delete</a></div></div><span class=meta-tag ng-if=file.format>{{file.format | uppercase}}</span> <a class=\"meta-tag meta-tag--error\" ng-if=!file.timestamp ng-click=configureTimestamp($index)>Needs timestamp configuration</a></td><td>{{file.size | bytes}}</td></tr></tbody></table></div><modal class=modal--upload-file modal-id=uploadFile><div class=form__group ng-if=!uploading><label class=label--inline>Upload file</label>&nbsp;<file-upload file-upload-click=\"upload(files, onUpload)\"></file-upload>&nbsp;<button ng-click=\"Modals.closeModal('uploadFile')\">Cancel</button></div><div class=form__group ng-if=uploading><span class=\"spinner fa fa-circle-o-notch\"></span> Uploading file&hellip;</div></modal><modal class=modal--file-timestamp modal-id=configureTimestamp><ng-include src=\"'configure-timestamp.tpl.html'\" ng-controller=ConfigureTimestampCtrl></ng-include></modal><div class=layout><div class=data-maps><h3>Data maps</h3><p><form action=\"{{'projects/' + project.id + '/new-data-map'}}\"><button ng-disabled=\"!(dataFiles | hasTimestamp).length\">Create new data map&hellip;</button></form></p><p class=\"help help--error\" ng-if=\"!(dataFiles | hasTimestamp).length\">Data file with timestamp configuration required.</p><table ng-if=dataMaps.length><thead><tr><th>Name</th></tr></thead><tbody><tr ng-repeat=\"dataMap in dataMaps\"><td>{{dataMap.name}}<div class=\"edit-menu drop-down\"><a class=drop-down__toggle><span class=\"fa fa-caret-right\"></span></a><div class=drop-down__container><a class=drop-down__item href=projects/{{project.id}}/datamaps/{{dataMap.id}}>View</a> <a class=drop-down__item href=projects/{{project.id}}/datamaps/{{dataMap.id}}/clone-and-edit>Edit copy</a> <a class=drop-down__item ng-click=\"rename('dataMaps', $index)\">Rename</a> <a class=drop-down__item ng-click=\"delete('dataMaps', $index)\">Delete</a></div></div></td></tr></tbody></table></div><div class=data-sets><h3>Data sets</h3><p><form action=\"{{'projects/' + project.id + '/new-data-set'}}\"><button ng-disabled=!dataMaps.length>Create new data set&hellip;</button></form></p><p class=\"help help--error\" ng-if=!dataMaps.length>Data map required.</p><table ng-if=dataSets.length><thead><tr><th>Name</th><th>Status</th><th>Errors</th></tr></thead><tbody><tr ng-repeat=\"dataSet in dataSets\"><td><span ng-if=\"dataSet.status.status !== 'complete'\">{{dataSet.name}}</span> <a href=projects/{{project.id}}/datasets/{{dataSet.id}} ng-if=\"dataSet.status.status === 'complete'\">{{dataSet.name}}</a><div class=\"edit-menu drop-down\"><a class=drop-down__toggle><span class=\"fa fa-caret-right\"></span></a><div class=drop-down__container><a class=drop-down__item href=projects/{{project.id}}/datasets/{{dataSet.id}} ng-if=\"dataSet.status.status === 'complete'\">View</a> <a class=drop-down__item href=projects/{{project.id}}/datasets/{{dataSet.id}}/manipulate ng-if=\"dataSet.status.status === 'complete'\">Manipulate</a> <a class=drop-down__item href=\"{{dataSet.download_url}}?format=csv\" target=_self>Download</a> <a class=drop-down__item ng-click=\"rename('dataSets', $index)\">Rename</a> <a class=drop-down__item ng-click=\"delete('dataSets', $index)\">Delete</a></div></div></td><td>{{dataSet.status.status || 'Checking&hellip;' | capitalize}}</td><td ng-if=!dataSet.errors.length>None</td><td ng-if=dataSet.errors.length><a ng-click=showErrors(dataSet)><ng-pluralize count=dataSet.errors.length when=\"{'one': '1 error', 'other': '{} errors'}\"></ng-pluralize></a></td></tr></tbody></table></div><modal class=modal--data-set-errors modal-id=dataSetErrors><h4>Errors</h4><table><thead><tr><th>Message</th><th>Location</th></tr></thead><tbody><tr ng-repeat=\"error in errorsModal.errors\"><td>{{error.message}}</td><td>{{errorsModal.files[error.file]}}: row {{error.row}}, column {{error.column}}</td></tr></tbody></table><button ng-click=\"Modals.closeModal('dataSetErrors')\">Close</button></modal><modal class=modal--new-data-set modal-id=newDataSet><ng-include src=\"'new-data-set.tpl.html'\" ng-controller=NewDataSetCtrl></ng-include></modal></div><div class=analyses><h3>Analyses</h3><p><button ng-click=\"Modals.openModal('newAnalysis')\">Run analysis&hellip;</button></p><table ng-if=analyses.length><thead><tr><th>Name</th><th>Status</th><th>Added</th><th>Report</th></tr></thead><tbody><tr ng-repeat=\"analysis in analyses\"><td><span ng-if=\"analysis.status.slice(-8) !== 'complete'\">{{analysis.name}}</span> <a ng-if=\"analysis.status.slice(-8) === 'complete'\" ng-click=viewAnalysis(analysis)>{{analysis.name}}</a><div class=\"edit-menu drop-down\"><a class=drop-down__toggle><span class=\"fa fa-caret-right\"></span></a><div class=drop-down__container><a class=drop-down__item ng-if=\"analysis.status.slice(-8) === 'complete'\" ng-click=viewAnalysis(analysis)>View</a> <a class=drop-down__item ng-if=\"analysis.status.slice(-8) === 'complete'\" href={{getAnalysisOutputUrl(analysis.id)}} target=_self>Download output</a> <a class=drop-down__item ng-if=\"analysis.status.slice(-8) === 'complete' && !(sharedAnalyses | filter:{analysis:analysis.id}).length\" ng-click=shareAnalysis(analysis)>Share</a> <a class=drop-down__item ng-if=\"(sharedAnalyses | filter:{analysis:analysis.id}).length\" ng-click=revokeLink(analysis.id)>Revoke sharing</a> <a class=drop-down__item ng-click=\"rename('analyses', $index)\">Rename</a> <a class=drop-down__item ng-if=\"analysis.status.slice(-8) === 'complete'\" ng-click=\"delete('analyses', $index)\">Delete</a></div></div></td><td>{{analysis.status | capitalize}}</td><td>{{analysis.added | date:'medium'}}</td><td><a ng-if=\"analysis.status.slice(-8) === 'complete' && !(sharedAnalyses | filter:{analysis:analysis.id}).length\" ng-click=shareAnalysis(analysis)>Share</a> <span ng-if=\"(sharedAnalyses | filter:{analysis:analysis.id}).length\"><a ng-click=viewLink(analysis.id)>Shared</a> (<a ng-click=revokeLink(analysis.id)>revoke</a>)</span></td></tr></tbody></table></div><modal class=modal--new-analysis modal-id=newAnalysis><ng-include src=\"'new-analysis.tpl.html'\" ng-controller=NewAnalysisCtrl></ng-include></modal><modal class=modal--analysis modal-id=viewAnalysis><h4>{{viewingAnalysis.name}}</h4><div class=form__group ng-if=!viewingAnalysisData><span class=\"spinner fa fa-circle-o-notch\"></span> Loading analysis&hellip;</div><analysis-report ng-repeat=\"report in viewingAnalysis.reports\" ng-if=viewingAnalysisData ar-report=report ar-data=viewingAnalysisData></analysis-report><button ng-click=\"Modals.closeModal('viewAnalysis')\">Close</button></modal><modal class=modal--view-link modal-id=viewLink><p><a href={{viewingLink.url}} target=_self>{{viewingLink.url}}</a></p><button ng-click=revokeLink(viewingLink.sharedAnalysis.analysis)>Revoke</button> <button ng-click=\"Modals.closeModal('viewLink')\">Close</button></modal></div></div>"
  );


  $templateCache.put('projects.tpl.html',
    "<div class=container><ul class=breadcrumbs><li>Projects</li></ul><div class=\"view view--projects\"><h2>Projects</h2><ul ng-if=projects.length><li ng-repeat=\"project in projects\"><a ng-href=projects/{{project.id}}>{{project.name}}</a> &mdash; <a ng-click=renameProject($index)>Rename</a> &mdash; <a ng-click=deleteProject($index)>Delete</a> &mdash; <a ng-click=cloneProject($index)>Clone</a></li></ul><form ng-submit=newProject.create()><label class=label--inline>Create new project</label>&nbsp; <input class=input--inline type=text placeholder=Name ng-model=newProject.name required> &nbsp;<button type=submit>Create</button></form></div></div>"
  );


  $templateCache.put('recovery.tpl.html',
    "<div class=container><div class=\"view view--recovery\"><h1><a href=\"/\">OpenEIS</a></h1><form class=panel ng-submit=submit()><h2>Recover account</h2><div class=form__group ng-if=\"form.stage === 1\"><label for=recoveryId>Username or email address</label><input id=recoveryId type=text required ng-change=clearError() ng-trim=false ng-model=recovery.id></div><div class=form__group ng-if=\"form.stage === 2\"><label>Username</label><input type=text disabled ng-model=recovery.username></div><div class=form__group ng-if=\"form.stage === 2\"><label for=password>New password</label><input id=password type=password required ng-trim=false ng-model=recovery.password><br><label for=password>Confirm new password</label><input type=password required ng-trim=false ng-model=recovery.passwordConfirm></div><div class=form__group ng-if=form.stage><button type=submit>Submit</button></div><div class=\"alert alert--success\" ng-if=form.success>{{form.success}}</div><div class=\"alert alert--error\" ng-if=form.error ng-switch=form.error.status><span ng-switch-when=400>{{form.error.data}}</span> <span ng-switch-when=404>{{form.error.data}}</span> <span ng-switch-default>Unknown error occurred. ({{form.error}})</span></div></form></div></div>"
  );


  $templateCache.put('sensor-container-directive.tpl.html',
    "<div ng-if=container.deleted><strong>{{container.level | capitalize}}: {{container.name}}</strong> deleted. (<a ng-click=\"container.deleted = false\">undo</a>)</div><div ng-if=!container.deleted><h1>{{container.level | capitalize}}: {{container.name}} <button ng-click=rename()>Rename</button> <button ng-click=\"container.deleted = true\">Delete</button></h1><div class=layout><div class=layout__item style=width:50% ng-if=\"(objectDefinition.attribute_list | filter:showAttribute).length || container.attributes\"><fieldset><legend>Attributes</legend><modal modal-id=newAttribute-{{container.$$hashKey}} ng-if=\"(objectDefinition.attribute_list | filter:showAttribute).length\"><form class=form--stacked ng-submit=addAttribute()><div class=form__group><label>New attribute</label><select required ng-options=\"attribute for attribute in objectDefinition.attribute_list | filter:showAttribute\" ng-model=newAttribute.name><option value=\"\">-- Choose attribute --</option></select></div><div class=form__group ng-if=\"newAttribute.name && definition.attributes[newAttribute.name].data_type === 'enum'\"><select required ng-options=\"value for value in definition.attributes[newAttribute.name].data_values\" ng-model=newAttribute.value><option value=\"\">--- Choose value---</option></select></div><div class=form__group ng-if=\"newAttribute.name && !definition.attributes[newAttribute.name].data_type\" ng-init=\"newAttribute.value = {}\"><label ng-repeat-start=\"(name, property) in definition.attributes[newAttribute.name]\">{{name}}</label><input ng-model=newAttribute.value[name]><br ng-repeat-end></div><button>Add</button> <button type=button ng-click=\"cancel('newAttribute')\">Cancel</button></form></modal><dl ng-if=container.attributes><dt ng-repeat-start=\"(attribute, value) in container.attributes\">{{attribute}} <a ng-click=deleteAttribute(attribute)>Delete</a></dt><dd ng-repeat-end><pre>{{value | json}}</pre></dd></dl><div class=form__group ng-if=\"(objectDefinition.attribute_list | filter:showAttribute).length\"><button ng-click=\"prompt('newAttribute')\">Add attribute</button></div></fieldset></div><div class=layout__item style=width:50% ng-if=\"(objectDefinition.sensor_list | filter:showSensor).length || container.sensors\"><fieldset><legend>Sensors</legend><modal modal-id=newSensor-{{container.$$hashKey}} ng-if=\"(objectDefinition.sensor_list | filter:showSensor).length\"><form class=form--stacked ng-submit=addSensor()><div class=form__group><label>New sensor</label><select required ng-options=\"sensor for sensor in objectDefinition.sensor_list | filter:showSensor\" ng-model=newSensor.name><option value=\"\">-- Choose sensor --</option></select></div><div class=form__group ng-if=newSensor.name><label>Source</label><select required ng-model=newSensor.file ng-options=\"file.name for file in files | hasTimestamp\"><option value=\"\">-- Choose file --</option></select><select required ng-model=newSensor.column ng-options=\"key as column for (key, column) in newSensor.file.columns\"><option value=\"\">-- Choose column --</option></select></div><div class=form__group ng-if=newSensor.name><label>Value unit</label><select required ng-model=newSensor.unit ng-options=\"key as unit.value for (key, unit) in units[definition.sensors[newSensor.name].unit_type]\"><option value=\"\">-- Choose unit --</option></select></div><button>Add</button> <button type=button ng-click=\"cancel('newSensor')\">Cancel</button></form></modal><dl ng-if=container.sensors.length><dt ng-repeat-start=\"sensor in container.sensors\">{{sensor.name}} <a ng-click=deleteSensor($index)>Delete</a></dt><dd ng-repeat-end>{{sensor.file.name}} &rarr; {{sensor.file.columns[sensor.column]}}<span ng-if=sensor.unit>&nbsp;({{sensor.unit}})</span></dd></dl><div class=form__group ng-if=\"(objectDefinition.sensor_list | filter:showSensor).length\"><button ng-click=\"prompt('newSensor')\">Add sensor</button></div></fieldset></div></div><div class=form__group>Add under {{container.name}}:<span ng-repeat=\"child in objectDefinition.child_list\">&nbsp;<button ng-click=addChild(child)>{{child}}</button></span></div><sensor-container ng-repeat=\"child in container.children\" parent=container container=child files=files></sensor-container></div>"
  );


  $templateCache.put('shared-analyses.tpl.html',
    "<div class=container><div class=\"view view--shared-analysis\" ng-if=valid><h1>{{sharedAnalysis.name}}</h1><div class=form__group ng-if=!data><span class=\"spinner fa fa-circle-o-notch\"></span> Loading analysis&hellip;</div><analysis-report ng-repeat=\"report in sharedAnalysis.reports\" ng-if=data ar-report=report ar-data=data></analysis-report></div><p ng-if=!valid>Invalid shared analysis link.</p></div>"
  );


  $templateCache.put('signup.tpl.html',
    "<div class=container><div class=\"view view--signup\"><h1>OpenEIS</h1><form class=panel ng-submit=submit()><h2>Get an account</h2><div class=form__group><label for=name>Name</label><input id=name type=text ng-model=account.first_name> <small class=\"help help--error\" ng-if=form.error.data.first_name>{{form.error.data.first_name}}</small></div><div class=form__group><label for=email>Email address</label><input id=email type=email required ng-change=\"form.error.data.email = false\" ng-model=account.email> <small class=\"help help--error\" ng-if=form.error.data.email>{{form.error.data.email}}</small></div><div class=form__group><label for=username>Username</label><input id=username type=text autocomplete=off required ng-change=\"form.error.data.username = false\" ng-model=account.username> <small class=\"help help--error\" ng-if=form.error.data.username>{{form.error.data.username}}</small></div><div class=form__group><label for=password>Password</label><input id=password type=password autocomplete=off required ng-trim=false ng-change=\"form.error.data.password = false; form.passwordConfirm = false\" ng-model=account.password> <small class=\"help help--error\" ng-if=form.error.data.password>{{form.error.data.password}}</small><br><label for=passwordConfirm>Confirm password</label><input id=passwordConfirm type=password autocomplete=off required ng-trim=false ng-change=\"form.passwordConfirm = false\" ng-model=account.passwordConfirm> <small class=\"help help--error\" ng-if=form.passwordConfirm>{{form.passwordConfirm}}</small></div><div class=form__group><button type=submit>Sign up</button></div><div class=\"alert alert--error\" ng-if=\"form.error.status && form.error.status !== 400\">Unknown error occurred. ({{form.error.status}})</div></form></div></div>"
  );

}]);
